{% extends 'base.html' %}
{% block title %}Leave History{% endblock %}
{% block content %}
<h2 class="mb-4">Leave History</h2>

<div class="mb-5">
  <h4 class="text-primary">This Month</h4>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="table-light">
        <tr><th>Sr. No.</th><th>From</th><th>To</th><th>Type</th><th>Reason</th></tr>
      </thead>
      <tbody>
        {% for l in month_leaves %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ l.start_date }}</td>
          <td>{{ l.end_date }}</td>
          <td>{{ l.get_leave_type_display }}</td>
          <td>{{ l.reason }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="text-center text-muted">No leaves this month</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="mb-5">
  <h4 class="text-primary">This Quarter</h4>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="table-light">
        <tr><th>Sr. No.</th><th>From</th><th>To</th><th>Type</th><th>Reason</th></tr>
      </thead>
      <tbody>
        {% for l in quarter_leaves %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ l.start_date }}</td>
          <td>{{ l.end_date }}</td>
          <td>{{ l.get_leave_type_display }}</td>
          <td>{{ l.reason }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="text-center text-muted">No leaves this quarter</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="mb-5">
  <h4 class="text-primary">This Financial Year</h4>
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="table-light">
        <tr><th>Sr. No.</th><th>From</th><th>To</th><th>Type</th><th>Reason</th></tr>
      </thead>
      <tbody>
        {% for l in fy_leaves %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>{{ l.start_date }}</td>
          <td>{{ l.end_date }}</td>
          <td>{{ l.get_leave_type_display }}</td>
          <td>{{ l.reason }}</td>
        </tr>
        {% empty %}
        <tr><td colspan="5" class="text-center text-muted">No leaves this year</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <a href="{% url 'employee_dashboard' %}" class="btn btn-secondary">‚Üê Back to Dashboard</a>
</div>
{% endblock %}
